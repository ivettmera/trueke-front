<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catálogo de Usuario - Truek-e</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/components.css">
    <link rel="stylesheet" href="../css/pages.css">
    <link rel="stylesheet" href="../css/responsive.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="container">
            <div class="navbar-content">
                <a href="../index.html" class="logo">Truek-e</a>
                <div class="nav-menu">
                    <a href="../index.html" class="nav-link">Inicio</a>
                    <a href="publish.html" class="nav-link">Publicar Objeto</a>
                    <a href="my-objects.html" class="nav-link">Mis Objetos</a>
                    <a href="my-exchanges.html" class="nav-link">Mis Intercambios</a>
                </div>
                <div class="nav-actions">
                    <div class="user-dropdown">
                        <button class="user-btn">
                            <img src="../assets/images/avatar.jpg" alt="Avatar" class="user-avatar">
                            <span>Usuario</span>
                        </button>
                        <div class="dropdown-menu">
                            <a href="user-catalog.html" class="dropdown-item">Mi Catálogo</a>
                            <a href="#" class="dropdown-item">Configuración</a>
                            <a href="../index.html" class="dropdown-item">Cerrar Sesión</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- User Profile Header -->
            <div class="user-profile-header">
                <div class="profile-info">
                    <img src="../assets/images/user-maria.jpg" alt="María López" class="profile-avatar">
                    <div class="profile-details">
                        <h1>María López</h1>
                        <p class="profile-location">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <path d="M8 14s6-5.686 6-9A6 6 0 008 14zM8 7a2 2 0 100-4 2 2 0 000 4z" fill="#666"/>
                            </svg>
                            Madrid, España
                        </p>
                        <div class="profile-stats">
                            <div class="stat">
                                <strong>24</strong>
                                <span>Objetos</span>
                            </div>
                            <div class="stat">
                                <strong>18</strong>
                                <span>Intercambios</span>
                            </div>
                            <div class="stat">
                                <strong>2</strong>
                                <span>Años</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="profile-rating">
                    <div class="rating-display">
                        <div class="rating-stars">
                            <span class="star filled">★</span>
                            <span class="star filled">★</span>
                            <span class="star filled">★</span>
                            <span class="star filled">★</span>
                            <span class="star filled">★</span>
                        </div>
                        <span class="rating-number">4.8</span>
                    </div>
                    <p class="rating-text">Basado en 18 calificaciones</p>
                    <button class="btn btn-outline" onclick="viewReviews()">Ver reseñas</button>
                </div>
            </div>

            <!-- User Bio -->
            <div class="user-bio">
                <h3>Sobre María</h3>
                <p>¡Hola! Soy María y me encanta el intercambio de objetos. Especialmente me interesa la música, los libros y los artículos de hogar. Siempre busco dar una segunda vida a las cosas que ya no uso y encontrar tesoros que otros ya no necesitan. ¡Espero que podamos hacer algunos intercambios interesantes!</p>
            </div>

            <!-- Search and Filter -->
            <div class="catalog-controls">
                <div class="search-container">
                    <input type="text" placeholder="Buscar en el catálogo..." class="search-input" id="catalogSearch">
                    <svg class="search-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M9 17A8 8 0 109 1a8 8 0 000 16z" stroke="#6C757D" stroke-width="2"/>
                        <path d="M17 17l-2.5-2.5" stroke="#6C757D" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </div>
                <div class="filter-container">
                    <select class="filter-select" id="categoryFilter">
                        <option value="">Todas las categorías</option>
                        <option value="musica">Música</option>
                        <option value="libros">Libros</option>
                        <option value="hogar">Hogar</option>
                        <option value="tecnologia">Tecnología</option>
                        <option value="deportes">Deportes</option>
                    </select>
                    <select class="filter-select" id="statusFilter">
                        <option value="">Todos los estados</option>
                        <option value="available">Disponible</option>
                        <option value="in-exchange">En intercambio</option>
                    </select>
                </div>
            </div>

            <!-- User's Objects Grid -->
            <div class="catalog-grid" id="catalogGrid">
                <!-- Object Card 1 -->
                <div class="catalog-card" data-category="musica" data-status="available">
                    <div class="card-image">
                        <img src="../assets/images/guitar.jpg" alt="Guitarra Acústica">
                        <div class="card-status status-available">Disponible</div>
                        <button class="favorite-btn">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path d="M10 18l-1.45-1.32C4.4 13.36 1 10.28 1 6.5 1 3.42 3.42 1 6.5 1c1.74 0 3.41.81 4.5 2.09C12.09 1.81 13.76 1 15.5 1 18.58 1 21 3.42 21 6.5c0 3.78-3.4 6.86-7.55 10.18L10 18z" stroke="#333" stroke-width="2"/>
                            </svg>
                        </button>
                    </div>
                    <div class="card-info">
                        <h3>Guitarra Acústica Yamaha</h3>
                        <p class="card-category">Música</p>
                        <p class="card-description">Guitarra en excelente estado, perfecta para principiantes. Incluye funda y púas.</p>
                        <div class="card-footer">
                            <span class="card-date">Publicado hace 3 días</span>
                            <button class="btn btn-primary btn-sm" onclick="proposeExchange('guitar-1')">
                                Proponer intercambio
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Object Card 2 -->
                <div class="catalog-card" data-category="libros" data-status="available">
                    <div class="card-image">
                        <img src="../assets/images/book-harry.jpg" alt="Colección Harry Potter">
                        <div class="card-status status-available">Disponible</div>
                        <button class="favorite-btn">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path d="M10 18l-1.45-1.32C4.4 13.36 1 10.28 1 6.5 1 3.42 3.42 1 6.5 1c1.74 0 3.41.81 4.5 2.09C12.09 1.81 13.76 1 15.5 1 18.58 1 21 3.42 21 6.5c0 3.78-3.4 6.86-7.55 10.18L10 18z" stroke="#333" stroke-width="2"/>
                            </svg>
                        </button>
                    </div>
                    <div class="card-info">
                        <h3>Colección Harry Potter Completa</h3>
                        <p class="card-category">Libros</p>
                        <p class="card-description">Los 7 libros de Harry Potter en español, edición tapa dura. En muy buen estado.</p>
                        <div class="card-footer">
                            <span class="card-date">Publicado hace 1 semana</span>
                            <button class="btn btn-primary btn-sm" onclick="proposeExchange('books-1')">
                                Proponer intercambio
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Object Card 3 -->
                <div class="catalog-card" data-category="hogar" data-status="in-exchange">
                    <div class="card-image">
                        <img src="../assets/images/lamp.jpg" alt="Lámpara de Mesa">
                        <div class="card-status status-in-exchange">En intercambio</div>
                    </div>
                    <div class="card-info">
                        <h3>Lámpara de Mesa Vintage</h3>
                        <p class="card-category">Hogar</p>
                        <p class="card-description">Lámpara de mesa estilo vintage, perfecta para decoración. Funciona perfectamente.</p>
                        <div class="card-footer">
                            <span class="card-date">Publicado hace 2 semanas</span>
                            <span class="in-exchange-text">En proceso de intercambio</span>
                        </div>
                    </div>
                </div>

                <!-- Object Card 4 -->
                <div class="catalog-card" data-category="tecnologia" data-status="available">
                    <div class="card-image">
                        <img src="../assets/images/tablet.jpg" alt="Tablet Android">
                        <div class="card-status status-available">Disponible</div>
                        <button class="favorite-btn">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path d="M10 18l-1.45-1.32C4.4 13.36 1 10.28 1 6.5 1 3.42 3.42 1 6.5 1c1.74 0 3.41.81 4.5 2.09C12.09 1.81 13.76 1 15.5 1 18.58 1 21 3.42 21 6.5c0 3.78-3.4 6.86-7.55 10.18L10 18z" stroke="#333" stroke-width="2"/>
                            </svg>
                        </button>
                    </div>
                    <div class="card-info">
                        <h3>Tablet Android Samsung</h3>
                        <p class="card-category">Tecnología</p>
                        <p class="card-description">Tablet Samsung Galaxy Tab A 10.1", 32GB. Incluye funda protectora.</p>
                        <div class="card-footer">
                            <span class="card-date">Publicado hace 5 días</span>
                            <button class="btn btn-primary btn-sm" onclick="proposeExchange('tablet-1')">
                                Proponer intercambio
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Object Card 5 -->
                <div class="catalog-card" data-category="musica" data-status="available">
                    <div class="card-image">
                        <img src="../assets/images/keyboard.jpg" alt="Teclado Musical">
                        <div class="card-status status-available">Disponible</div>
                        <button class="favorite-btn">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path d="M10 18l-1.45-1.32C4.4 13.36 1 10.28 1 6.5 1 3.42 3.42 1 6.5 1c1.74 0 3.41.81 4.5 2.09C12.09 1.81 13.76 1 15.5 1 18.58 1 21 3.42 21 6.5c0 3.78-3.4 6.86-7.55 10.18L10 18z" stroke="#333" stroke-width="2"/>
                            </svg>
                        </button>
                    </div>
                    <div class="card-info">
                        <h3>Teclado Musical Casio</h3>
                        <p class="card-category">Música</p>
                        <p class="card-description">Teclado Casio de 61 teclas con múltiples sonidos y ritmos. Ideal para aprender.</p>
                        <div class="card-footer">
                            <span class="card-date">Publicado hace 4 días</span>
                            <button class="btn btn-primary btn-sm" onclick="proposeExchange('keyboard-1')">
                                Proponer intercambio
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Object Card 6 -->
                <div class="catalog-card" data-category="hogar" data-status="available">
                    <div class="card-image">
                        <img src="../assets/images/plant-pot.jpg" alt="Macetas Decorativas">
                        <div class="card-status status-available">Disponible</div>
                        <button class="favorite-btn">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path d="M10 18l-1.45-1.32C4.4 13.36 1 10.28 1 6.5 1 3.42 3.42 1 6.5 1c1.74 0 3.41.81 4.5 2.09C12.09 1.81 13.76 1 15.5 1 18.58 1 21 3.42 21 6.5c0 3.78-3.4 6.86-7.55 10.18L10 18z" stroke="#333" stroke-width="2"/>
                            </svg>
                        </button>
                    </div>
                    <div class="card-info">
                        <h3>Set de Macetas Decorativas</h3>
                        <p class="card-category">Hogar</p>
                        <p class="card-description">3 macetas de cerámica en diferentes tamaños, perfectas para plantas de interior.</p>
                        <div class="card-footer">
                            <span class="card-date">Publicado hace 1 semana</span>
                            <button class="btn btn-primary btn-sm" onclick="proposeExchange('pots-1')">
                                Proponer intercambio
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- User Reviews Section -->
            <div class="user-reviews" id="reviewsSection" style="display: none;">
                <h3>Reseñas de otros usuarios</h3>
                <div class="reviews-list">
                    <div class="review-card">
                        <div class="review-header">
                            <img src="../assets/images/user-carlos.jpg" alt="Carlos" class="reviewer-avatar">
                            <div class="reviewer-info">
                                <h4>Carlos Ruiz</h4>
                                <div class="review-rating">
                                    <span class="star filled">★</span>
                                    <span class="star filled">★</span>
                                    <span class="star filled">★</span>
                                    <span class="star filled">★</span>
                                    <span class="star filled">★</span>
                                </div>
                                <span class="review-date">Hace 2 semanas</span>
                            </div>
                        </div>
                        <p class="review-text">Excelente intercambio con María. Muy puntual y el objeto estaba exactamente como se describía. ¡Recomendada al 100%!</p>
                    </div>
                    
                    <div class="review-card">
                        <div class="review-header">
                            <img src="../assets/images/user-ana.jpg" alt="Ana" class="reviewer-avatar">
                            <div class="reviewer-info">
                                <h4>Ana García</h4>
                                <div class="review-rating">
                                    <span class="star filled">★</span>
                                    <span class="star filled">★</span>
                                    <span class="star filled">★</span>
                                    <span class="star filled">★</span>
                                    <span class="star">★</span>
                                </div>
                                <span class="review-date">Hace 1 mes</span>
                            </div>
                        </div>
                        <p class="review-text">Muy buena experiencia. María es muy amable y el proceso fue súper fácil. Los libros estaban en perfecto estado.</p>
                    </div>
                </div>
            </div>

            <!-- Empty State -->
            <div class="empty-state" id="emptyState" style="display: none;">
                <div class="empty-icon">
                    <svg width="64" height="64" viewBox="0 0 64 64" fill="none">
                        <path d="M32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm0 44c-11.046 0-20-8.954-20-20s8.954-20 20-20 20 8.954 20 20-8.954 20-20 20z" fill="#9E9E9E"/>
                        <path d="M32 20v16M32 44h.01" stroke="#9E9E9E" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </div>
                <h3>No se encontraron objetos</h3>
                <p>Intenta cambiar los filtros o buscar otro término</p>
            </div>
        </div>
    </main>

    <script src="../js/main.js"></script>
    <script src="../js/products.js"></script>
    <script>
        // User Catalog specific functionality
        document.addEventListener('DOMContentLoaded', () => {
            const searchInput = document.getElementById('catalogSearch');
            const categoryFilter = document.getElementById('categoryFilter');
            const statusFilter = document.getElementById('statusFilter');
            const catalogGrid = document.getElementById('catalogGrid');
            const emptyState = document.getElementById('emptyState');

            // Search and filter functionality
            searchInput.addEventListener('input', filterCatalog);
            categoryFilter.addEventListener('change', filterCatalog);
            statusFilter.addEventListener('change', filterCatalog);

            function filterCatalog() {
                const searchTerm = searchInput.value.toLowerCase();
                const selectedCategory = categoryFilter.value;
                const selectedStatus = statusFilter.value;
                const cards = document.querySelectorAll('.catalog-card');
                let visibleCount = 0;

                cards.forEach(card => {
                    const title = card.querySelector('h3').textContent.toLowerCase();
                    const description = card.querySelector('.card-description').textContent.toLowerCase();
                    const category = card.dataset.category;
                    const status = card.dataset.status;
                    
                    const matchesSearch = title.includes(searchTerm) || description.includes(searchTerm);
                    const matchesCategory = !selectedCategory || category === selectedCategory;
                    const matchesStatus = !selectedStatus || status === selectedStatus;
                    
                    if (matchesSearch && matchesCategory && matchesStatus) {
                        card.style.display = 'block';
                        visibleCount++;
                    } else {
                        card.style.display = 'none';
                    }
                });

                // Show/hide empty state
                if (visibleCount === 0) {
                    catalogGrid.style.display = 'none';
                    emptyState.style.display = 'block';
                } else {
                    catalogGrid.style.display = 'grid';
                    emptyState.style.display = 'none';
                }
            }

            // Favorite functionality
            const favoriteButtons = document.querySelectorAll('.favorite-btn');
            favoriteButtons.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    btn.classList.toggle('active');
                });
            });

            // Card click to view product detail
            const catalogCards = document.querySelectorAll('.catalog-card');
            catalogCards.forEach(card => {
                card.addEventListener('click', (e) => {
                    if (!e.target.closest('.favorite-btn') && !e.target.closest('button')) {
                        // Get product info and go to detail page
                        const productTitle = card.querySelector('h3').textContent;
                        window.location.href = `product-detail.html?product=${encodeURIComponent(productTitle)}&user=maria-lopez`;
                    }
                });
            });
        });

        function proposeExchange(objectId) {
            // Redirect to exchange proposal page
            window.location.href = `exchange-proposal.html?object=${objectId}&user=maria-lopez`;
        }

        function viewReviews() {
            const reviewsSection = document.getElementById('reviewsSection');
            if (reviewsSection.style.display === 'none') {
                reviewsSection.style.display = 'block';
                reviewsSection.scrollIntoView({ behavior: 'smooth' });
            } else {
                reviewsSection.style.display = 'none';
            }
        }
    </script>
</body>
</html>